var Amplitude=function(){function e(e){if(!tt.initialized){tt.debug=void 0!=e.debug?e.debug:!1;var t=!1;e.songs?0!=e.songs.length?(tt.songs=e.songs,t=!0):w("Please add some songs, to your songs object!"):w("Please provide a songs object for AmplitudeJS to run!"),t&&(tt.soundcloud_client=void 0!=e.soundcloud_client?e.soundcloud_client:"",""!=tt.soundcloud_client?(st=e,R()):O(e))}}function t(e){tt.debug=e}function a(){return tt.active_metadata}function n(e,t){tt.visualizations[e.getID]=e,void 0!=t&&e.setPreferences(t)}function s(e){J(),tt.active_visualization=e,U()}function o(){return window.AudioContext?!0:!1}function l(e){return tt.songs[e]}function u(e){return tt.songs.push(e),tt.songs.length-1}function c(){Q("before_play"),tt.active_metadata.live&&g(),console.log(tt.active_song),tt.active_song.play(),Q("after_play")}function r(){tt.active_song.pause(),tt.active_metadata.live&&_()}function d(){Q("before_stop"),tt.active_song.currentTime=0,tt.active_song.pause(),tt.active_metadata.live&&_(),Q("after_stop")}function m(e){tt.active_song.volume=e/100}function v(e){tt.active_metadata.live||(tt.active_song.currentTime=tt.active_song.duration*(e/100))}function _(){tt.active_song.src="",tt.active_song.load()}function g(){tt.active_song.src=tt.active_metadata.url,tt.active_song.load()}function f(){var e=this.getAttribute("amplitude-song-index");N(e)?(P(),C(),this.classList.add("amplitude-playing"),this.classList.remove("amplitude-paused"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),U(),c()):tt.active_song.paused?(this.classList.add("amplitude-playing"),this.classList.remove("amplitude-paused"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),U(),c(this.getAttribute("amplitude-song-index"))):(this.classList.add("amplitude-paused"),this.classList.remove("amplitude-playing"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-paused"),main_control.classList.remove("amplitude-playing")),r())}function p(){var e=this.getAttribute("amplitude-song-index");N(e)&&C(),U(),c()}function h(){r()}function b(){J(),d()}function y(){0==tt.volume?tt.volume=tt.pre_mute_volume:(tt.pre_mute_volume=tt.volume,tt.volume=0),m(100*tt.volume),M()}function x(){tt.volume=100*tt.volume+tt.volume_increment<=100?tt.volume+tt.volume_increment/100:1,m(100*tt.volume),M()}function S(){tt.volume=100*tt.volume-tt.volume_decrement>0?tt.volume-tt.volume_decrement/100:0,m(100*tt.volume),M()}function L(){tt.volume=this.value/100,m(this.value),M()}function E(){tt.active_song.paused||(this.getAttribute("amplitude-singular-song-slider")&&v(this.value),this.getAttribute("amplitude-song-index")==tt.active_index&&v(this.value))}function A(){Q("before_next"),d(),tt.shuffle_on?parseInt(tt.shuffle_active_index)+1<tt.shuffle_list.length?(H(tt.suffle_list[parseInt(tt.shuffle_active_index)+1].album),tt.active_song.src=tt.shuffle_list[parseInt(tt.shuffle_active_index)+1].url,tt.active_metadata=tt.shuffle_list[parseInt(tt.shuffle_active_index)+1],tt.active_album=tt.shuffle_list[parseInt(tt.shuffle_active_index)+1].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.shuffle_active_index=parseInt(tt.shuffle_active_index)+1):(H(tt.suffle_list[0].album),tt.active_song.src=tt.shuffle_list[0].url,tt.active_metadata=tt.shuffle_list[0],tt.active_album=tt.shuffle_list[0].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.shuffle_active_index=0):parseInt(tt.active_index)+1<tt.songs.length?(H(tt.songs[parseInt(tt.active_index)+1].album),tt.active_song.src=tt.songs[parseInt(tt.active_index)+1].url,tt.active_metadata=tt.songs[parseInt(tt.active_index)+1],tt.active_album=tt.songs[parseInt(tt.active_index)+1].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.active_index=parseInt(tt.active_index)+1):(H(tt.songs[0].album),tt.active_song.src=tt.songs[0].url,tt.active_metadata=tt.songs[0],tt.active_album=tt.songs[0].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.active_index=0),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),V(),Q("after_next")}function z(){Q("before_prev"),d(),tt.shuffle_on?parseInt(tt.shuffle_active_index)-1>=0?(H(tt.suffle_list[parseInt(tt.shuffle_active_index)-1].album),tt.active_song.src=tt.shuffle_list[parseInt(tt.shuffle_active_index)-1].url,tt.active_metadata=tt.shuffle_list[parseInt(tt.shuffle_active_index)-1],tt.active_album=tt.shuffle_list[parseInt(tt.shuffle_active_index)-1].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.shuffle_active_index=parseInt(tt.shuffle_active_index)-1):(H(tt.suffle_list[parseInt(tt.shuffle_list.length-1)].album),tt.active_song.src=tt.shuffle_list[parseInt(tt.shuffle_list.length-1)].url,tt.active_metadata=tt.shuffle_list[parseInt(tt.shuffle_list.length-1)],tt.active_album=tt.shuffle_list[parseInt(tt.shuffle_list.length-1)].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.shuffle_active_index=parseInt(tt.shuffle_list.length)-1):parseInt(tt.active_index)-1>=0?(H(tt.songs[parseInt(tt.active_index)-1].album),tt.active_song.src=tt.songs[parseInt(tt.active_index)-1].url,tt.active_metadata=tt.songs[parseInt(tt.active_index)-1],tt.active_album=tt.songs[parseInt(tt.active_index)-1].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.active_index=parseInt(tt.active_index)-1):(H(tt.songs[tt.songs.length-1].album),tt.active_song.src=tt.songs[tt.songs.length-1].url,tt.active_metadata=tt.songs[tt.songs.length-1],tt.active_album=tt.songs[tt.songs.length-1].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.active_index=parseInt(tt.songs.length)-1),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),V(),Q("after_prev")}function I(){tt.shuffle_on?(tt.shuffle_on=!1,tt.shuffle_list={},tt.shuffle_active_index=0):(tt.shuffle_on=!0,G()),T()}function P(){for(var e=document.getElementsByClassName("amplitude-play-pause"),t=0;t<e.length;t++)e[t].classList.add("amplitude-paused"),e[t].classList.remove("amplitude-playing")}function C(){for(var e=document.getElementsByClassName("amplitude-song-slider"),t=0;t<e.length;t++)e[t].value=0}function M(){for(var e=document.getElementsByClassName("amplitude-volume-slider"),t=0;t<e.length;t++)e[t].value=100*tt.active_song.volume}function q(){if(!window.AudioContext)switch(tt.visualization_backup){case"nothing":document.getElementById("amplitude-visualization").remove();break;case"album-art":var e=document.getElementById("amplitude-visualization"),t=e.parentNode,a=document.createElement("img");a.setAttribute("amplitude-song-info","cover"),a.setAttribute("class","amplitude-album-art"),document.querySelector('[amplitude-song-info="cover"]')&&(void 0!=tt.active_metadata.cover_art_url?(a.setAttribute("src",tt.active_metadata.cover_art_url),document.querySelector('[amplitude-song-info="cover"]').setAttribute("src",tt.active_metadata.cover_art_url)):""!=tt.default_album_art?a.setAttribute("src",tt.default_album_art):a.setAttribute("src","")),t.replaceChild(a,e)}}function B(){for(var e=document.getElementsByClassName("amplitude-current-minutes"),t=0;t<e.length;t++)e[t].innerHTML="0";for(var a=document.getElementsByClassName("amplitude-current-seconds"),t=0;t<a.length;t++)a[t].innerHTML="00"}function k(){for(var e=document.getElementsByClassName("amplitude-song-container"),t=0;t<e.length;t++)e[t].classList.remove("amplitude-active-song-container")}function T(){for(var e=document.getElementsByClassName("amplitude-shuffle"),t=0;t<e.length;t++)tt.shuffle_on?(e[t].classList.add("amplitude-shuffle-on"),e[t].classList.remove("amplitude-shuffle-off")):(e[t].classList.remove("amplitude-shuffle-on"),e[t].classList.add("amplitude-shuffle-off"))}function O(e){void 0!=e.start_song?(tt.active_song.src=tt.songs[e.start_song].url,tt.active_metadata=tt.songs[e.start_song],tt.active_album=tt.songs[e.start_song].album,tt.active_index=e.start_song):(tt.active_song.src=tt.songs[0].url,tt.active_metadata=tt.songs[0],tt.active_album=tt.songs[0].album,tt.active_index=0),void 0==tt.active_metadata.live&&(tt.active_metadata.live=!1),tt.active_song.preload=void 0!=e.preload?e.preload:"metadata",tt.callbacks=void 0!=e.callbacks?e.callbacks:{},tt.volume=void 0!=e.volume?e.volume:.5,tt.visualization_backup=void 0!=e.visualization_backup?e.visualization_backup:"nothing",tt.pre_mute_volume=void 0!=e.volume?e.volume:.5,tt.volume_increment=void 0!=e.volume_increment?e.volume_increment:5,tt.volume_decrement=void 0!=e.volume_decrement?e.volume_decrement:5,tt.default_album_art=void 0!=e.default_album_art?e.default_album_art:"",tt.active_song.volume=tt.volume,tt.handle_song_elements=void 0!=e.handle_song_elements?e.handle_song_elements:!0,tt.song_ended_callback=void 0!=e.song_ended_callback?e.song_ended_callback:"",tt.initialized=!0,M(),q(),B(),C(),j(),tt.handle_song_elements&&$(),k(),F(),st={}}function w(e){tt.debug&&console.log(e)}function N(e){return null!=e&&e!=tt.active_index?(d(),H(tt.songs[e].album),tt.active_song.src=tt.songs[e].url,tt.active_metadata=tt.songs[e],tt.active_album=tt.songs[e].album,tt.album_change&&(Q("after_album_change"),tt.album_change=!1),tt.active_index=e,tt.handle_song_elements&&$(),B(),j(),F(),!0):!1}function H(e){tt.active_album!=e&&(tt.album_change=!0,Q("before_album_change"))}function V(){j()&&U(),tt.handle_song_elements&&$(),C(),B(),k(),F(),c()}function j(){var e=!1;return tt.active_metadata.visualization&&(tt.active_metadata.visualization!=tt.active_visualization&&""!=tt.active_visualization&&(J(),e=!0),tt.active_visualization=tt.active_metadata.visualization),e}function D(){tt.songs.length>1&&(d(),tt.shuffle_on?parseInt(tt.shuffle_active_index)+1<tt.shuffle_list.length?(tt.active_song.src=tt.shuffle_list[parseInt(tt.shuffle_active_index)+1].url,tt.active_metadata=tt.shuffle_list[parseInt(tt.shuffle_active_index)+1],tt.shuffle_active_index=parseInt(tt.shuffle_active_index)+1):(tt.active_song.src=tt.shuffle_list[0].url,tt.active_metadata=tt.shuffle_list[0],tt.shuffle_active_index=0):parseInt(tt.active_index)+1<tt.songs.length?(tt.active_song.src=tt.songs[parseInt(tt.active_index)+1].url,tt.active_metadata=tt.songs[parseInt(tt.active_index)+1],tt.active_index=parseInt(tt.active_index)+1):(tt.active_song.src=tt.songs[0].url,tt.active_metadata=tt.songs[0],tt.active_index=0),V()),Q("after_song_ended")}function W(){var e=(Math.floor(tt.active_song.currentTime%60)<10?"0":"")+Math.floor(tt.active_song.currentTime%60),t=Math.floor(tt.active_song.currentTime/60),a=(Math.floor(tt.active_song.duration%60)<10?"0":"")+Math.floor(tt.active_song.duration%60),i=Math.floor(tt.active_song.duration/60),n="";n=document.querySelector(document.querySelector('[amplitude-singular-song-slider="true"]')?'[amplitude-singular-song-slider="true"]':'input[amplitude-song-index="'+tt.active_index+'"]');var s="";if(s=document.querySelector(document.querySelector('[amplitude-single-song-time-visualization="true"]')?'[amplitude-single-song-time-visualization="true"]':'.amplitude-song-time-visualization[amplitude-song-index="'+tt.active_index+'"]'),document.querySelector('[amplitude-single-current-minutes="true"]')?document.querySelector('[amplitude-single-current-minutes="true"]').innerHTML=t:document.querySelector('.amplitude-current-minutes[amplitude-song-index="'+tt.active_index+'"]')&&(document.querySelector('.amplitude-current-minutes[amplitude-song-index="'+tt.active_index+'"]').innerHTML=t),document.querySelector('[amplitude-single-current-seconds="true"]')?document.querySelector('[amplitude-single-current-seconds="true"]').innerHTML=e:document.querySelector('.amplitude-current-seconds[amplitude-song-index="'+tt.active_index+'"]')&&(document.querySelector('.amplitude-current-seconds[amplitude-song-index="'+tt.active_index+'"]').innerHTML=e),tt.active_metadata.live||(document.querySelector('[amplitude-single-duration-seconds="true"]')?document.querySelector('[amplitude-single-duration-seconds="true"]').innerHTML=a:document.querySelector('.amplitude-duration-seconds[amplitude-song-index="'+tt.active_index+'"]')&&(document.querySelector('.amplitude-duration-seconds[amplitude-song-index="'+tt.active_index+'"]').innerHTML=a),document.querySelector('[amplitude-single-duration-minutes="true"]')?document.querySelector('[amplitude-single-duration-minutes="true"]').innerHTML=i:document.querySelector('.amplitude-duration-minutes[amplitude-song-index="'+tt.active_index+'"]')&&(document.querySelector('.amplitude-duration-minutes[amplitude-song-index="'+tt.active_index+'"]').innerHTML=i)),!tt.active_metadata.live&&n&&(n.value=tt.active_song.currentTime/tt.active_song.duration*100),!tt.active_metadata.live&&s){var o=s.querySelectorAll(".amplitude-song-time-visualization-status"),l=s.offsetWidth;o[0].setAttribute("style","width:"+l*(tt.active_song.currentTime/tt.active_song.duration)+"px")}}function U(){if(!tt.visualization_started&&Object.keys(tt.visualizations).length>0){if(""!=tt.active_visualization)tt.visualizations[tt.active_visualization].startVisualization(tt.active_song),tt.current_visualization=tt.visualizations[tt.active_visualization];else{for(first_visualization in tt.visualizations);tt.visualizations[first_visualization].startVisualization(tt.active_song),tt.current_visualization=tt.visualizations[first_visualization]}tt.visualization_started=!0}}function J(){tt.visualization_started&&Object.keys(tt.visualizations).length>0&&(tt.current_visualization.stopVisualization(),tt.visualization_started=!1)}function $(){document.querySelector('[amplitude-song-info="name"]')&&(document.querySelector('[amplitude-song-info="name"]').innerHTML=tt.active_metadata.name),document.querySelector('[amplitude-song-info="artist"]')&&(document.querySelector('[amplitude-song-info="artist"]').innerHTML=tt.active_metadata.artist),document.querySelector('[amplitude-song-info="album"]')&&(document.querySelector('[amplitude-song-info="album"]').innerHTML=tt.active_metadata.album),document.querySelector('[amplitude-song-info="cover"]')&&(void 0!=tt.active_metadata.cover_art_url?document.querySelector('[amplitude-song-info="cover"]').setAttribute("src",tt.active_metadata.cover_art_url):""!=tt.default_album_art?document.querySelector('[amplitude-song-info="cover"]').setAttribute("src",tt.default_album_art):document.querySelector('[amplitude-song-info="cover"]').setAttribute("src",""))}function F(){var e=document.getElementsByClassName("amplitude-song-container");for(i=0;i<e.length;i++)e[i].classList.remove("amplitude-active-song-container");document.querySelector('.amplitude-song-container[amplitude-song-index="'+tt.active_index+'"]')&&document.querySelector('.amplitude-song-container[amplitude-song-index="'+tt.active_index+'"]').classList.add("amplitude-active-song-container")}function G(){var e=new Array(tt.songs.length);for(i=0;i<tt.songs.length;i++)e[i]=tt.songs[i];for(i=tt.songs.length-1;i>0;i--)rand_num=Math.floor(Math.random()*tt.songs.length+1),K(e,i,rand_num-1);tt.shuffle_list=e}function K(e,t,a){var i=e[t];e[t]=e[a],e[a]=i}function Q(e){if(tt.callbacks[e]){var t=window[tt.callbacks[e]];t()}}function R(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src="http://connect.soundcloud.com/sdk.js",t.onreadystatechange=X,t.onload=X,e.appendChild(t)}function X(){SC.initialize({client_id:tt.soundcloud_client}),Y()}function Y(){for(var e=/^https?:\/\/(soundcloud.com|snd.sc)\/(.*)$/,t=0;t<tt.songs.length;t++)tt.songs[t].url.match(e)&&(tt.soundcloud_song_count++,Z(tt.songs[t].url,t))}function Z(e,t){SC.get("/resolve/?url="+e,function(e){e.streamable?tt.songs[t].url=e.stream_url+"?client_id="+tt.soundcloud_client:tt.debug&&w(tt.songs[t].name+" by "+tt.songs[t].artist+" is not streamable by the Soundcloud API"),tt.soundcloud_songs_ready++,tt.soundcloud_songs_ready==tt.soundcloud_song_count&&O(st)})}function et(){tt.active_song.addEventListener("timeupdate",W),tt.active_song.addEventListener("ended",D);for(var e=document.getElementsByClassName("amplitude-play"),t=0;t<e.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?e[t].addEventListener("touchstart",p):e[t].addEventListener("click",p);for(var a=document.getElementsByClassName("amplitude-pause"),t=0;t<a.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?a[t].addEventListener("touchstart",h):a[t].addEventListener("click",h);for(var i=document.getElementsByClassName("amplitude-stop"),t=0;t<i.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?i[t].addEventListener("touchstart",b):i[t].addEventListener("click",b);for(var n=document.getElementsByClassName("amplitude-play-pause"),t=0;t<n.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?n[t].addEventListener("touchstart",f):n[t].addEventListener("click",f);for(var s=document.getElementsByClassName("amplitude-mute"),t=0;t<s.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?w("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):s[t].addEventListener("touchstart",y):s[t].addEventListener("click",y);for(var o=document.getElementsByClassName("amplitude-volume-up"),t=0;t<o.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?w("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):o[t].addEventListener("touchstart",x):o[t].addEventListener("click",x);for(var l=document.getElementsByClassName("amplitude-volume-down"),t=0;t<l.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?w("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):l[t].addEventListener("touchstart",S):l[t].addEventListener("click",S);for(var u=document.getElementsByClassName("amplitude-song-slider"),t=0;t<u.length;t++)u[t].addEventListener("input",E);for(var c=document.getElementsByClassName("amplitude-volume-slider"),t=0;t<c.length;t++)/iPhone|iPad|iPod/i.test(navigator.userAgent)?w("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):c[t].addEventListener("input",L);for(var r=document.getElementsByClassName("amplitude-next"),t=0;t<r.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?r[t].addEventListener("touchstart",A):r[t].addEventListener("click",A);for(var d=document.getElementsByClassName("amplitude-prev"),t=0;t<d.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?d[t].addEventListener("touchstart",z):d[t].addEventListener("click",z);for(var m=document.getElementsByClassName("amplitude-shuffle"),t=0;t<m.length;t++)m[t].classList.remove("amplitude-shuffle-on"),m[t].classList.add("amplitude-shuffle-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?m[t].addEventListener("touchstart",I):m[t].addEventListener("click",I);for(var v=document.getElementsByClassName("amplitude-song-time-visualization"),t=0;t<v.length;t++){var _=document.createElement("div");_.classList.add("amplitude-song-time-visualization-status"),_.setAttribute("style","width: 0px"),v[t].appendChild(_)}}document.onreadystatechange=function(){"complete"==document.readyState&&et()};var tt={active_song:new Audio,active_metadata:{},active_album:"",active_index:0,album_change:!1,callbacks:{},songs:{},shuffle_list:{},shuffle_on:!1,shuffle_active_index:0,default_album_art:"",debug:!1,initialized:!1,handle_song_elements:!0,volume:.5,pre_mute_volume:.5,volume_increment:5,volume_decrement:5,visualizations:new Array,active_visualization:"",current_visualization:{},visualization_started:!1,visualization_backup:"",song_ended_callback:"",soundcloud_client:"",soundcloud_song_count:0,soundcloud_songs_ready:0};tt.active_song.crossOrigin="anonymous";var at,it,nt,st={};return window.AudioContext&&(at=new AudioContext,it=at.createAnalyser(),nt=at.createMediaElementSource(tt.active_song),nt.connect(it),it.connect(at.destination)),{init:e,setDebug:t,getActiveSongMetadata:a,getSongByIndex:l,registerVisualization:n,visualizationCapable:o,changeVisualization:s,addSong:u,analyser:it,source:nt}}();